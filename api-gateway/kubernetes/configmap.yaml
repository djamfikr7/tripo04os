apiVersion: v1
kind: ConfigMap
metadata:
  name: kong-config
  namespace: api-gateway
  labels:
    app: kong
data:
  KONG_LOG_LEVEL: "info"
  KONG_PROXY_ACCESS_LOG: "/dev/stdout"
  KONG_PROXY_ERROR_LOG: "/dev/stderr"
  KONG_ADMIN_ACCESS_LOG: "/dev/stdout"
  KONG_ADMIN_ERROR_LOG: "/dev/stderr"
  KONG_ADMIN_LISTEN: "0.0.0.0:8001"
  KONG_ADMIN_GUI_URL: "http://localhost:8002"
  KONG_NGINX_WORKER_PROCESSES: "2"
  KONG_PLUGINS: "bundled,cors,jwt,rate-limiting,request-logger,response-logger"
---
apiVersion: v1
kind: Secret
metadata:
  name: kong-secrets
  namespace: api-gateway
  labels:
    app: kong
type: Opaque
stringData:
  KONG_PG_PASSWORD: "kong_password"
  JWT_SECRET: "your-secret-key-change-in-production"
